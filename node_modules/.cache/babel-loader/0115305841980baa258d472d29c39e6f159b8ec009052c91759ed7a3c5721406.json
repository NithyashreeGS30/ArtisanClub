{"ast":null,"code":"var _jsxFileName = \"/Users/nithyashree/Desktop/ARTISAN/ArtisanClub/src/bodyadmin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './BodyPage.css';\nimport Header from './header/header';\nimport CheckoutPage from './checkoutpage/checkoutpage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BodyPage1 = () => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedArtist, setSelectedArtist] = useState('');\n  const [products, setProducts] = useState([]);\n  const [showCondition, setShowCondition] = useState(null);\n  useEffect(() => {\n    if (selectedCategory) {\n      fetchProducts(selectedCategory);\n    }\n  }, [selectedCategory]);\n  const fetchProducts = async category => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/search_by_category?category=${category}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      const data = await response.json();\n      const artworksArray = Object.values(data.artworks);\n      setProducts(artworksArray);\n    } catch (error) {\n      console.error('Error fetching products:', error.message);\n    }\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n  };\n  const handleArtistChange = async artist => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/search_by_artist?artist=${artist}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      const data = await response.json();\n      const artworksArray = Object.values(data.artworks);\n      setProducts(artworksArray);\n    } catch (error) {\n      console.error('Error fetching products:', error.message);\n    }\n  };\n  const addToCart = product => {\n    const existingItemIndex = cartItems.findIndex(item => item.id === product.id);\n    if (existingItemIndex !== -1) {\n      const updatedCartItems = [...cartItems];\n      updatedCartItems[existingItemIndex].quantity += 1;\n      setCartItems(updatedCartItems);\n    } else {\n      setCartItems([...cartItems, {\n        ...product,\n        quantity: 1\n      }]);\n    }\n  };\n  const toggleCart = () => {\n    setIsCartOpen(prevState => !prevState);\n  };\n  const handleImageClick = productId => {\n    setShowCondition(productId);\n  };\n  const handleCloseCondition = () => {\n    setShowCondition(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      headName: \"SignOut\",\n      cartCount: cartItems.length,\n      toggleCart: toggleCart,\n      onCategoryChange: handleCategoryChange,\n      onArtistChange: handleArtistChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.ArtImages,\n            alt: product.Artist,\n            className: \"product-image\",\n            style: {\n              width: '200px',\n              height: '200px'\n            },\n            onClick: () => handleImageClick(product._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-name\",\n              children: product.Artist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: product.Price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), showCondition === product._id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-condition\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Condition:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: product.Condition\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCloseCondition,\n                style: {\n                  background: \"#ff9900\",\n                  color: \"white\"\n                },\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginTop: \"10px\"\n              },\n              className: \"add-to-cart-button\",\n              onClick: () => addToCart(product),\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, product._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), isCartOpen && /*#__PURE__*/_jsxDEV(CheckoutPage, {\n      cartItems: cartItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(BodyPage1, \"xvM62tNSP1tyXmGseIU3OCLIx3Q=\");\n_c = BodyPage1;\nexport default BodyPage1;\nvar _c;\n$RefreshReg$(_c, \"BodyPage1\");","map":{"version":3,"names":["React","useState","useEffect","Header","CheckoutPage","jsxDEV","_jsxDEV","BodyPage1","_s","cartItems","setCartItems","isCartOpen","setIsCartOpen","selectedCategory","setSelectedCategory","selectedArtist","setSelectedArtist","products","setProducts","showCondition","setShowCondition","fetchProducts","category","response","fetch","ok","Error","data","json","artworksArray","Object","values","artworks","error","console","message","handleCategoryChange","handleArtistChange","artist","addToCart","product","existingItemIndex","findIndex","item","id","updatedCartItems","quantity","toggleCart","prevState","handleImageClick","productId","handleCloseCondition","children","headName","cartCount","length","onCategoryChange","onArtistChange","fileName","_jsxFileName","lineNumber","columnNumber","className","map","src","ArtImages","alt","Artist","style","width","height","onClick","_id","Price","Condition","background","color","marginTop","_c","$RefreshReg$"],"sources":["/Users/nithyashree/Desktop/ARTISAN/ArtisanClub/src/bodyadmin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './BodyPage.css';\nimport Header from './header/header';\nimport CheckoutPage from './checkoutpage/checkoutpage'; \n\nconst BodyPage1 = () => {\n  const [cartItems, setCartItems] = useState([]);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedArtist, setSelectedArtist] = useState('');\n  const [products, setProducts] = useState([]);\n  const [showCondition, setShowCondition] = useState(null);\n\n  useEffect(() => {\n    if (selectedCategory) {\n      fetchProducts(selectedCategory);\n    }\n  }, [selectedCategory]);\n\n  const fetchProducts = async (category) => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/search_by_category?category=${category}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      const data = await response.json();\n      const artworksArray = Object.values(data.artworks);\n      setProducts(artworksArray);\n    } catch (error) {\n      console.error('Error fetching products:', error.message);\n    }\n  };\n\n  const handleCategoryChange = (category) => {\n    setSelectedCategory(category);\n  };\n\n  const handleArtistChange = async (artist) => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/search_by_artist?artist=${artist}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      const data = await response.json();\n      const artworksArray = Object.values(data.artworks);\n      setProducts(artworksArray);\n    } catch (error) {\n      console.error('Error fetching products:', error.message);\n    }\n  };\n\n  const addToCart = (product) => {\n    const existingItemIndex = cartItems.findIndex(item => item.id === product.id);\n  \n    if (existingItemIndex !== -1) {\n      const updatedCartItems = [...cartItems];\n      updatedCartItems[existingItemIndex].quantity += 1;\n      setCartItems(updatedCartItems);\n    } else {\n      setCartItems([...cartItems, { ...product, quantity: 1 }]);\n    }\n  };\n\n  const toggleCart = () => {\n    setIsCartOpen(prevState => !prevState);\n  };\n\n  const handleImageClick = (productId) => {\n    setShowCondition(productId);\n  };\n\n  const handleCloseCondition = () => {\n    setShowCondition(null);\n  };\n\n  return (\n    <div>\n      <Header\n        headName=\"SignOut\"\n        cartCount={cartItems.length}\n        toggleCart={toggleCart}\n        onCategoryChange={handleCategoryChange}\n        onArtistChange={handleArtistChange}\n      />\n      <div className=\"body-page\">\n        <div className=\"product-grid\">\n          {products.map(product => (\n            <div key={product._id} className=\"product-card\">\n              <img\n                src={product.ArtImages}\n                alt={product.Artist}\n                className=\"product-image\"\n                style={{ width: '200px', height: '200px' }}\n                onClick={() => handleImageClick(product._id)}\n              />\n              <div className=\"product-info\">\n                <div className=\"product-name\">{product.Artist}</div>\n                <div className=\"product-price\">{product.Price}</div>\n                {showCondition === product._id && (\n                  <div className=\"product-condition\">\n                    <h3>Condition:</h3>\n                    <p>{product.Condition}</p>\n                    <button onClick={handleCloseCondition} style={{background:\"#ff9900\",color:\"white\"}}>Close</button>\n                  </div>\n                )}\n                <button style={{marginTop:\"10px\"}} className=\"add-to-cart-button\" onClick={() => addToCart(product)}>\n                  Add to Cart\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      {isCartOpen && <CheckoutPage cartItems={cartItems} />}\n    </div>\n  );\n};\n\nexport default BodyPage1;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,gBAAgB;AACvB,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,YAAY,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACY,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAExDC,SAAS,CAAC,MAAM;IACd,IAAIW,gBAAgB,EAAE;MACpBQ,aAAa,CAACR,gBAAgB,CAAC;IACjC;EACF,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EAEtB,MAAMQ,aAAa,GAAG,MAAOC,QAAQ,IAAK;IACxC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,qDAAoDF,QAAS,EAAC,CAAC;MAC7F,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACJ,IAAI,CAACK,QAAQ,CAAC;MAClDd,WAAW,CAACW,aAAa,CAAC;IAC5B,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACE,OAAO,CAAC;IAC1D;EACF,CAAC;EAED,MAAMC,oBAAoB,GAAId,QAAQ,IAAK;IACzCR,mBAAmB,CAACQ,QAAQ,CAAC;EAC/B,CAAC;EAED,MAAMe,kBAAkB,GAAG,MAAOC,MAAM,IAAK;IAC3C,IAAI;MACF,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAE,iDAAgDc,MAAO,EAAC,CAAC;MACvF,IAAI,CAACf,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACJ,IAAI,CAACK,QAAQ,CAAC;MAClDd,WAAW,CAACW,aAAa,CAAC;IAC5B,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACE,OAAO,CAAC;IAC1D;EACF,CAAC;EAED,MAAMI,SAAS,GAAIC,OAAO,IAAK;IAC7B,MAAMC,iBAAiB,GAAGhC,SAAS,CAACiC,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IAE7E,IAAIH,iBAAiB,KAAK,CAAC,CAAC,EAAE;MAC5B,MAAMI,gBAAgB,GAAG,CAAC,GAAGpC,SAAS,CAAC;MACvCoC,gBAAgB,CAACJ,iBAAiB,CAAC,CAACK,QAAQ,IAAI,CAAC;MACjDpC,YAAY,CAACmC,gBAAgB,CAAC;IAChC,CAAC,MAAM;MACLnC,YAAY,CAAC,CAAC,GAAGD,SAAS,EAAE;QAAE,GAAG+B,OAAO;QAAEM,QAAQ,EAAE;MAAE,CAAC,CAAC,CAAC;IAC3D;EACF,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBnC,aAAa,CAACoC,SAAS,IAAI,CAACA,SAAS,CAAC;EACxC,CAAC;EAED,MAAMC,gBAAgB,GAAIC,SAAS,IAAK;IACtC9B,gBAAgB,CAAC8B,SAAS,CAAC;EAC7B,CAAC;EAED,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;IACjC/B,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,oBACEd,OAAA;IAAA8C,QAAA,gBACE9C,OAAA,CAACH,MAAM;MACLkD,QAAQ,EAAC,SAAS;MAClBC,SAAS,EAAE7C,SAAS,CAAC8C,MAAO;MAC5BR,UAAU,EAAEA,UAAW;MACvBS,gBAAgB,EAAEpB,oBAAqB;MACvCqB,cAAc,EAAEpB;IAAmB;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eACFvD,OAAA;MAAKwD,SAAS,EAAC,WAAW;MAAAV,QAAA,eACxB9C,OAAA;QAAKwD,SAAS,EAAC,cAAc;QAAAV,QAAA,EAC1BnC,QAAQ,CAAC8C,GAAG,CAACvB,OAAO,iBACnBlC,OAAA;UAAuBwD,SAAS,EAAC,cAAc;UAAAV,QAAA,gBAC7C9C,OAAA;YACE0D,GAAG,EAAExB,OAAO,CAACyB,SAAU;YACvBC,GAAG,EAAE1B,OAAO,CAAC2B,MAAO;YACpBL,SAAS,EAAC,eAAe;YACzBM,KAAK,EAAE;cAAEC,KAAK,EAAE,OAAO;cAAEC,MAAM,EAAE;YAAQ,CAAE;YAC3CC,OAAO,EAAEA,CAAA,KAAMtB,gBAAgB,CAACT,OAAO,CAACgC,GAAG;UAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACFvD,OAAA;YAAKwD,SAAS,EAAC,cAAc;YAAAV,QAAA,gBAC3B9C,OAAA;cAAKwD,SAAS,EAAC,cAAc;cAAAV,QAAA,EAAEZ,OAAO,CAAC2B;YAAM;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpDvD,OAAA;cAAKwD,SAAS,EAAC,eAAe;cAAAV,QAAA,EAAEZ,OAAO,CAACiC;YAAK;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACnD1C,aAAa,KAAKqB,OAAO,CAACgC,GAAG,iBAC5BlE,OAAA;cAAKwD,SAAS,EAAC,mBAAmB;cAAAV,QAAA,gBAChC9C,OAAA;gBAAA8C,QAAA,EAAI;cAAU;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnBvD,OAAA;gBAAA8C,QAAA,EAAIZ,OAAO,CAACkC;cAAS;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC1BvD,OAAA;gBAAQiE,OAAO,EAAEpB,oBAAqB;gBAACiB,KAAK,EAAE;kBAACO,UAAU,EAAC,SAAS;kBAACC,KAAK,EAAC;gBAAO,CAAE;gBAAAxB,QAAA,EAAC;cAAK;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/F,CACN,eACDvD,OAAA;cAAQ8D,KAAK,EAAE;gBAACS,SAAS,EAAC;cAAM,CAAE;cAACf,SAAS,EAAC,oBAAoB;cAACS,OAAO,EAAEA,CAAA,KAAMhC,SAAS,CAACC,OAAO,CAAE;cAAAY,QAAA,EAAC;YAErG;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA,GArBErB,OAAO,CAACgC,GAAG;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAsBhB,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EACLlD,UAAU,iBAAIL,OAAA,CAACF,YAAY;MAACK,SAAS,EAAEA;IAAU;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClD,CAAC;AAEV,CAAC;AAACrD,EAAA,CA/GID,SAAS;AAAAuE,EAAA,GAATvE,SAAS;AAiHf,eAAeA,SAAS;AAAC,IAAAuE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}